!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports["components/video_player/video_player.js"]=t():e["components/video_player/video_player.js"]=t()}(this,(function(){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=347)}({133:function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){o(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}e.exports=function(e,t){window.__bloomberg__.eventBus.subscribe("user-sign-in-status",(function n(o){var a=o.isBBGSubscriber,i=o.isTerminalSubscriber,l={isBBGSubscriber:Boolean(a),isTerminalSubscriber:Boolean(i)};!function(e,t){if(!window._fence)return void e({});window._fence.ready((function(){window._fence.isBlockedPromise.then((function(n){n.isFortressEnabled||e(r(r({},n),{},{userState:t}))}))}))}(e,l),function(e,t,n){var r="fortress-decision".concat(n?"-".concat(n):""),o=function n(o){var a=o.result,i=o.details.isUsingOverlay,l="block"===a;e({isBlocked:l,isUsingOverlay:i,userState:t}),l&&i||window.__bloomberg__.eventBus.unsubscribe(r,n)};window.__bloomberg__.eventBus.subscribe(r,o)}(e,l,t),window.__bloomberg__.eventBus.unsubscribe("user-sign-in-status",n)}))}},177:function(e,t){var n=(("undefined"!=typeof window&&window.__bloomberg__?window.__bloomberg__:{}).environment||{}).videoPlayerUrl||"https://cdn.gotraffic.net/projector/latest/bplayer.js",r={callbacks:[],loading:null,loaded:!1,loadFailed:!1,loadBplayer:function(){if(!this.loading){var e=this,t=document.createElement("script");t.setAttribute("src",n),t.setAttribute("type","text/javascript"),t.setAttribute("data-exclude",!0),t.addEventListener("load",(function n(){e.loaded=!0,e.callbacks.forEach((function(e){e()})),clearTimeout(e.loading),e.loading=null,t.removeEventListener("load",n,!1),t=null})),e.loading=setTimeout((function(){e.loadFailed=!0}),7e3),setTimeout((function(){document.head.appendChild(t)}))}},run:function(e){this.loadFailed||(this.loaded||window.BPlayer?e():(this.callbacks.push(e),this.loadBplayer()))}};e.exports=r},347:function(e,t,n){e.exports=n(348)},348:function(e,t,n){(function(e){var t=n(177),r=n(133),o=(window.__bloomberg__||{}).environment||{},a=void 0!==o.playlistPlayerEnabled&&o.playlistPlayerEnabled,i=0,l=1,u=2,c=5,s=9,d=["play","AD_STARTED"],p=d.concat("willPlay"),f=[];function _(e){var t=document.querySelector("#".concat(e)),n=t.dataset.bmmrid,r=t.dataset.url,o=t.dataset.poster,a="true"===t.getAttribute("data-autoplay"),i=t.dataset.sites,l={pauseOnBlur:document.querySelector(".transporter-item")},u=document.querySelector("[data-playerid=".concat(e,"]"));b(n,e,r,o,a,i,l),u.addEventListener("click",(function(){var t=function(e,t){for(var n,r=0,o=e.length;r<o;r++)if((n=e[r]).playerId===t)return n;return null}(f,e);t?t.create(!0):b(n,e,r,o,a,i)}))}function b(n,o,_,b,m,v,g){var w=document.getElementById(o);w?t.run((function(){var t=function(e,t,n,r,o,a){var i="autoplay=".concat(o,"&ni=&suid=US&location=").concat(document.querySelector("body[data-type='storythread']")?"storythread":"lead","&template=article&page=articlejav"),l=(d=window.location.search,p=["test","demo","bpop","adv","tagr","cmpid"],f=y(d,"ad_test"),{adCustomParams:p.reduce((function(e,t){var n=y(d,t);return e+(n?"&".concat(t,"=").concat(n):"")}),""),adCodePrefix:f}),u=l.adCustomParams,c=document.documentElement.lang,s="https://www.bloomberg.com/multimedia/api/embed";var d,p,f;u&&(i+=u);return{htmlChildId:"".concat(t,"-child"),autoplay:o,loadSuggestions:"ja"!==c,module_ad_player:"true",ad_tag:"ja"===c?"japan/vod":"",ad_code_prefix:l.adCodePrefix,ad_tag_gpt_preroll:!0,ad_tag_gpt_midroll:!0,ad_tag_sz_preroll:"1x7",ad_tag_sz_midroll:"1x7",ad_tag_midroll:"business/midroll/vod",ad_tag_overlay:"business/videooverlay",ad_network_id_preroll:"5262",ad_network_id_midroll:"5262",ad_tag_cust_params_preroll:i,ad_tag_cust_params_midroll:i,log_debug:!1,comscore_ns_site:"bloomberg",use_share_overlay:!0,share_metadata:{canonical_url:n},use_google_tag_manager:!0,serverUrl:s,id:e,asset_protocol:"https",vertical:"business",zone:"article",poster:r,additionalSites:a}}(n,o,_,b,m,v),h=function(t,n,r,o){var _=o||{},b=i,y=!1,m={__player:null,playerId:t,getState:function(){return b},create:function(e){b===i&&(!_.createOnFocus||e?(n.nextElementSibling&&n.nextElementSibling.classList.add("hidden"),this.__player=v(),b=l,n.dataset.playerState=l):_.createOnFocus.addEventListener("jvln-transport-onfocus",(function(){m.create(!0)})))},pause:function(){b!==l?b!==u&&b!==c||this.__player.pause():y=!0}};function v(){var o=e.BPlayer;r.parselyPageUrl=window.location.href;var i=(a?o.createPlaylistPlayer:o.create)(n,r,{onReady:g});return p.forEach((function(e){i.on(e,(function(){var r;b=u,r=m,f.forEach((function(e){e!==r&&e.pause()})),n.dispatchEvent(new CustomEvent("jvln-video-play-start",{bubbles:!0,detail:{playerId:t}})),d.indexOf(e)>=0&&window.__bloomberg__.eventBus.publish("media-play",{viewId:t})}))})),i.on("pause",(function(){b=c})),i.on("ended",(function(){b=s})),_.pauseOnBlur&&_.pauseOnBlur.addEventListener("jvln-transport-onblur",(function(){m.pause()})),i}function g(){b=u,y&&m.pause()}return m}(o,w,t,g);f.push(h),h.create(),window.__bloomberg__.eventBus.subscribe("media-play",(function(e){h.playerId!==e.viewId&&h.pause()}),{replay:!1}),r((function(e){e.isBlocked&&e.isUsingOverlay&&h.pause()}))})):console.error("Aborting video player init for playerId: "+o)}function y(e,t){var n=new RegExp("(^|\\?|&)".concat(t,"=([^&]+)")).exec(e);return n?n[2]:""}window.__bloomberg__.videos.queue.forEach(_),window.__bloomberg__.videos.queue=[],window.__bloomberg__.videos.enqueue=_}).call(this,n(44))},44:function(e,t){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"==typeof window&&(n=window)}e.exports=n}})}));